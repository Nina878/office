name: Artifcate_create
on: push 

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
   
    - name: 'Build Artifact file'
      uses: actions/upload-artifact@v3
      with:
       name: my-artifact1
       path: Dockerfile
       retention-days: 5
  #  - name: Download artifact from build
   #   uses: bettermarks/action-artifact-download@0.3.0
   #   with:
    #    repo: sreesar/office
    #    token: ${{ secrets.GITHUB_TOKEN }}
      #  artifact_name: my-artifact1
     #   rename: new-artifact    
      #  wait_seconds: 60
        
        
    - name: Download artifact
      id: download-artifact
      uses: dawidd6/action-download-artifact@v2
      with:
        github_token: ${{secrets.GITHUB_TOKEN}}
        workflow: create_artifact.yml
        workflow_conclusion: success
        pr: ${{github.event.pull_request.number}}
        commit: ${{github.event.pull_request.head.sha}}
        branch: main
       # Optional, defaults to all types
        event: push
        # Optional, will use specified workflow run
        run_id: 3747996999
    # Optional, run number from the workflow
        run_number: 4
        path: sreesar/office
    # Optional, defaults to current repo
        repo: ${{ github.repository }}
        check_artifacts:  false
    
        search_artifacts: false
        skip_unpack: false
        if_no_artifact_found: fail
